<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <title>Segment - Basic</title>
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="../../../../../css/ionic.bundle.css" rel="stylesheet">
  <link href="../../../../../scripts/testing/styles.css" rel="stylesheet">
  <script src="../../../../../scripts/testing/scripts.js"></script>
  <script nomodule src="../../../../../dist/ionic/ionic.js"></script>
  <script type="module" src="../../../../../dist/syg/syg.esm.js"></script>
</head>

<body onload="listenForEvent()">
  <syg-app>

    <syg-header>
      <syg-toolbar>
        <syg-title>Segment - Basic</syg-title>
      </syg-toolbar>

      <syg-toolbar>
        <syg-segment class="event-tester" value="Free">
          <syg-segment-button value="Paid">
            PaidPaidPaid
          </syg-segment-button>
          <syg-segment-button value="Free">
            Free
          </syg-segment-button>
          <syg-segment-button value="Top">
            Top
          </syg-segment-button>
        </syg-segment>
      </syg-toolbar>

      <syg-toolbar>
        <syg-segment name="dynamicPropDisable" disabled color="danger">
          <syg-segment-button value="Bookmarks">
            Bookmarks
          </syg-segment-button>
          <syg-segment-button value="Reading List">
            Reading List
          </syg-segment-button>
          <syg-segment-button value="Shared Links">
            Shared Links
          </syg-segment-button>
        </syg-segment>
      </syg-toolbar>

      <syg-toolbar>
        <syg-segment name="dynamicAttrElem" color="secondary" value="active">
          <syg-segment-button value="active">
            Active
          </syg-segment-button>
          <syg-segment-button name="dynamicAttrDisable" value="disabled" disabled="true">
            Disabled
          </syg-segment-button>
          <syg-segment-button value="inactive" disabled="false">
            Inactive
          </syg-segment-button>
        </syg-segment>
      </syg-toolbar>

      <syg-toolbar>
        <syg-segment value="all">
          <syg-segment-button value="all">
            All
          </syg-segment-button>
          <syg-segment-button value="missed">
            Missed
          </syg-segment-button>
        </syg-segment>
      </syg-toolbar>
    </syg-header>

    <syg-segment value="segment">
      <syg-segment-button value="segment">
        Segment
      </syg-segment-button>
      <syg-segment-button value="outside">
        Outside
      </syg-segment-button>
      <syg-segment-button value="content">
        Content
      </syg-segment-button>
    </syg-segment>

    <syg-content>
      <div class="syg-padding">
        <syg-segment>
          <syg-segment-button>
            <syg-label>Seg 1</syg-label>
          </syg-segment-button>
          <syg-segment-button>
            <syg-label>Seg 2</syg-label>
          </syg-segment-button>
          <syg-segment-button>
            <syg-label>Seg 3</syg-label>
          </syg-segment-button>
        </syg-segment>

        <syg-segment class="segment-no-animate" value="is">
          <syg-segment-button value="animate">
            <syg-label>Animate</syg-label>
          </syg-segment-button>
          <syg-segment-button value="is">
            <syg-label>Is</syg-label>
          </syg-segment-button>
          <syg-segment-button value="false">
            <syg-label>False</syg-label>
          </syg-segment-button>
        </syg-segment>

        <syg-segment color="dark" value="Reading List">
          <syg-segment-button value="Bookmarks">
            <ion-icon name="book"></ion-icon>
          </syg-segment-button>
          <syg-segment-button value="Reading List">
            <ion-icon name="search"></ion-icon>
          </syg-segment-button>
          <syg-segment-button value="Shared Links">
            <ion-icon name="time"></ion-icon>
          </syg-segment-button>
        </syg-segment>

        <syg-segment>
          <syg-segment-button value="330">
            <syg-label>330ml</syg-label>
          </syg-segment-button>
          <syg-segment-button value="440">
            <syg-label>440ml</syg-label>
          </syg-segment-button>
          <syg-segment-button disabled value="500">
            <syg-label>500ml</syg-label>
          </syg-segment-button>
          <syg-segment-button value="custom">
            <ion-icon name="create"></ion-icon>
          </syg-segment-button>
        </syg-segment>

        <syg-segment name="dynamicPropDisable" disabled color="danger">
          <syg-segment-button value="Bookmarks">
            <syg-label>Bookmarks</syg-label>
          </syg-segment-button>
          <syg-segment-button value="Reading List">
            <syg-label>Reading List</syg-label>
          </syg-segment-button>
          <syg-segment-button value="Shared Links">
            <syg-label>Shared Links</syg-label>
          </syg-segment-button>
        </syg-segment>

        <syg-segment id="finalSegment" name="dynamicAttrElem" color="secondary" value="active">
          <syg-segment-button value="active">
            <syg-label>Active</syg-label>
          </syg-segment-button>
          <syg-segment-button name="dynamicAttrDisable" value="disabled" disabled="true">
            <syg-label>Disabled</syg-label>
          </syg-segment-button>
          <syg-segment-button value="inactive" disabled="false">
            <syg-label>Inactive</syg-label>
          </syg-segment-button>
        </syg-segment>

        <syg-segment name="dynamicAttrElem">
          <syg-segment-button value="active">
            <syg-label>Active</syg-label>
          </syg-segment-button>
          <syg-segment-button name="dynamicAttrDisable" value="disabled" disabled="true">
            <syg-label>Disabled</syg-label>
          </syg-segment-button>
          <syg-segment-button value="inactive" disabled="false">
            <syg-label>Inactive</syg-label>
          </syg-segment-button>
        </syg-segment>

        <syg-segment>
          <syg-segment-button value="active">
            <div class="square red"></div>
          </syg-segment-button>
          <syg-segment-button name="dynamicAttrDisable">
            <div class="square green"></div>
          </syg-segment-button>
          <syg-segment-button value="inactive">
            <div class="square blue"></div>
          </syg-segment-button>
        </syg-segment>

        <!-- Dynamic Buttons -->
        <syg-segment id="dynamicButtons"></syg-segment>
      </div>

      <div class="syg-padding-horizontal">
        <syg-button expand="block" onClick="toggleDisabled()">Toggle Disabled</syg-button>
      </div>
      <div class="syg-padding">
        <syg-button expand="block" color="secondary" onClick="toggleValue()">Toggle Value</syg-button>
      </div>
      <div class="syg-padding-horizontal">
        <syg-button expand="block" color="tertiary" onClick="toggleSwipeGesture()">Toggle Swipe Gesture</syg-button>
      </div>

      <script>
        var dynamicAttrDisable = document.getElementsByName('dynamicAttrDisable');
        var dynamicPropDisable = document.getElementsByName('dynamicPropDisable');

        function toggleDisabled() {
          for (var i = 0; i < dynamicAttrDisable.length; i++) {
            const attrIsDisabled = dynamicAttrDisable[i].getAttribute('disabled') === 'true' ? false : true;
            dynamicAttrDisable[i].setAttribute('disabled', attrIsDisabled);
          }
          for (var i = 0; i < dynamicPropDisable.length; i++) {
            const propIsDisabled = dynamicPropDisable[i].disabled === true ? false : true;
            dynamicPropDisable[i].disabled = propIsDisabled;
          }
        }

        function toggleValue() {
          var dynamicAttrElem = document.getElementsByName('dynamicAttrElem');
          for (var i = 0; i < dynamicAttrElem.length; i++) {
            var dynamicAttrValue = dynamicAttrElem[i].getAttribute('value');

            if (dynamicAttrValue === 'active') {
              dynamicAttrElem[i].setAttribute('value', 'inactive');
            } else if (dynamicAttrValue === 'inactive') {
              dynamicAttrElem[i].setAttribute('value', 'disabled');
            } else {
              dynamicAttrElem[i].setAttribute('value', 'active');
            }
          }
        }

        function toggleSwipeGesture() {
          const ionSegmentElement = document.querySelectorAll('syg-segment');
          for (var i = 0; i < ionSegmentElement.length; i++) {
            ionSegmentElement[i].swipeGesture = !ionSegmentElement[i].swipeGesture;
          }
        }

        async function listenForEvent() {
          const ionSegmentElement = document.querySelector('syg-segment.event-tester');
          ionSegmentElement.addEventListener('ionChange', (event) => {
            console.log('event.target: ', event.target.value);
          });
        }

        var dynamicButtons = document.getElementById('dynamicButtons');
        updateSegmentButtons(2);

        setTimeout(function () {
          updateSegmentButtons(4);
        }, 4000);

        function updateSegmentButtons(length) {
          const buttonsLength = dynamicButtons.children.length;
          const begin = buttonsLength === 0 ? 0 : buttonsLength;

          for (var i = begin; i < length; i++) {
            const button = document.createElement('syg-segment-button');
            button.value = `segment-${i}`;
            button.innerHTML = `<syg-label>Btn ${i}</syg-label>`;

            dynamicButtons.appendChild(button);
          }
        }

      </script>
    </syg-content>

    <style>
      .square {
        width: 20px;
        height: 20px;
        background: black;
      }

      .square.red {
        background: red;
      }

      .square.green {
        background: green;
      }

      .square.blue {
        background: blue;
      }

      syg-content syg-segment {
        margin-bottom: 10px;
      }

      .segment-no-animate syg-segment-button {
        --indicator-transition: none;
        --indicator-transform: none;
      }
    </style>
  </syg-app>
</body>

</html>
